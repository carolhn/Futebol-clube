{"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":34}},"4":{"start":{"line":6,"column":16},"end":{"line":6,"column":41}},"5":{"start":{"line":7,"column":16},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":22},"end":{"line":8,"column":58}},"7":{"start":{"line":9,"column":18},"end":{"line":9,"column":45}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":29}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":22}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":64}},"11":{"start":{"line":15,"column":40},"end":{"line":15,"column":62}},"12":{"start":{"line":18,"column":30},"end":{"line":23,"column":9}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":59}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":92}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":60}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":19}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":36}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":48}},"20":{"start":{"line":27,"column":8},"end":{"line":27,"column":48}},"21":{"start":{"line":28,"column":8},"end":{"line":28,"column":52}},"22":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"23":{"start":{"line":32,"column":8},"end":{"line":32,"column":76}},"24":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"25":{"start":{"line":35,"column":0},"end":{"line":35,"column":18}},"26":{"start":{"line":37,"column":0},"end":{"line":37,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":16,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":26},"end":{"line":15,"column":27}},"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":62}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":13},"end":{"line":30,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":30},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":51},"end":{"line":23,"column":9}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":16},"end":{"line":33,"column":5}},"line":31},"5":{"name":"(anonymous_5)","decl":{"start":{"line":32,"column":30},"end":{"line":32,"column":31}},"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":6,"14":6,"15":6,"16":6,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":1,"26":1},"f":{"0":1,"1":0,"2":1,"3":6,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,gCAA8B;AAC9B,mCAAmC;AACnC,0CAAyC;AACzC,0CAAyC;AACzC,2DAAsD;AACtD,8CAA6C;AAE7C,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,eAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,eAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,iBAAa,CAAC,CAAC;QAExC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,qBAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAEQ,kBAAG;AAEZ,2FAA2F;AAC5E,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import 'express-async-errors';\nimport * as express from 'express';\nimport routesTeams from './routes/Teams';\nimport routesLogin from './routes/Login';\nimport GenerateError from './middlewares/RouterError';\nimport routesMatches from './routes/Matches';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.config();\n\n    // Não remover essa rota\n    this.app.get('/', (req, res) => res.json({ ok: true }));\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(express.json());\n    this.app.use(accessControl);\n    this.app.use('/teams', routesTeams);\n    this.app.use('/login', routesLogin);\n    this.app.use('/matches', routesMatches);\n\n    this.app.use(GenerateError);\n  }\n\n  public start(PORT: string | number):void {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n}\n\nexport { App };\n\n// Essa segunda exportação é estratégica, e a execução dos testes de cobertura depende dela\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f0cc3232f43a97e4c37fd55f4a64b3174cbe78a3"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Teams.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Teams.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":66}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":43}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":50}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":65}},"6":{"start":{"line":7,"column":35},"end":{"line":7,"column":63}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":69}},"8":{"start":{"line":8,"column":38},"end":{"line":8,"column":67}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":21},"end":{"line":7,"column":22}},"loc":{"start":{"line":7,"column":35},"end":{"line":7,"column":63}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":24},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":38},"end":{"line":8,"column":67}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Teams.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Teams.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,mEAA4D;AAE5D,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAC7B,MAAM,UAAU,GAAG,IAAI,yBAAe,EAAE,CAAC;AAEzC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACpF,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAExF,kBAAe,WAAW,CAAC","sourcesContent":["import { Router, Request, Response } from 'express';\nimport TeamsController from '../controller/Team.controller';\n\nconst routesTeams = Router();\nconst controller = new TeamsController();\n\nroutesTeams.get('/', (req: Request, res: Response) => controller.findAll(req, res));\nroutesTeams.get('/:id', (req: Request, res: Response) => controller.findById(req, res));\n\nexport default routesTeams;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"85734894eb570063ea5b7545e962c2da9eddd18d"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Team.controller.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Team.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":28},"end":{"line":7,"column":56}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":49}},"5":{"start":{"line":10,"column":8},"end":{"line":14,"column":10}},"6":{"start":{"line":11,"column":27},"end":{"line":11,"column":37}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":66}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":48}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":53}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":16,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":23},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":43},"end":{"line":9,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":24},"end":{"line":10,"column":25}},"loc":{"start":{"line":10,"column":44},"end":{"line":14,"column":9}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Team.controller.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Team.controller.ts"],"names":[],"mappings":";;AACA,6DAAqD;AAErD,MAAqB,eAAe;IAGlC;QAIO,YAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACrD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YAC7C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC,CAAC;QAEK,aAAQ,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACtD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YACvD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACtC,CAAC,CAAC;QAZA,IAAI,CAAC,OAAO,GAAG,IAAI,uBAAY,EAAE,CAAC;IACpC,CAAC;CAYF;AAjBD,kCAiBC","sourcesContent":["import { Request, Response } from 'express';\nimport TeamsService from '../services/Teams.service';\n\nexport default class TeamsController {\n  private service: TeamsService;\n\n  constructor() {\n    this.service = new TeamsService();\n  }\n\n  public findAll = async (req: Request, res: Response) => {\n    const matches = await this.service.findAll();\n    return res.status(200).json(matches);\n  };\n\n  public findById = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const result = await this.service.findById(Number(id));\n    return res.status(200).json(result);\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73aea7edd810a966dc5fd456a74aa68fb51512ee"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Teams.service.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Teams.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":51}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":38}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":49}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"5":{"start":{"line":13,"column":23},"end":{"line":13,"column":53}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":15,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Teams.service.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Teams.service.ts"],"names":[],"mappings":";;AACA,oDAAkD;AAIlD,MAAqB,YAAY;IAAjC;QACU,WAAM,GAA4B,eAAU,CAAC;IAWvD,CAAC;IATQ,KAAK,CAAC,OAAO;QAClB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAU;QAC9B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC9C,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAZD,+BAYC","sourcesContent":["import { ModelStatic } from 'sequelize';\nimport modelTeams from '../database/models/Teams';\nimport IteamsServ from '../interface/Iteams.service';\nimport Iteams from '../interface/Iteams';\n\nexport default class TeamsService implements IteamsServ {\n  private _model: ModelStatic<modelTeams> = modelTeams;\n\n  public async findAll(): Promise<Iteams[]> {\n    const teams = await this._model.findAll();\n    return teams;\n  }\n\n  public async findById(id: number): Promise<modelTeams | null> {\n    const result = await this._model.findByPk(id);\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"11497990301b6c155a35eb308fb6d386945fdc1f"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Login.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Login.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":46}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":63}},"4":{"start":{"line":6,"column":20},"end":{"line":6,"column":43}},"5":{"start":{"line":7,"column":19},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":136}},"7":{"start":{"line":8,"column":42},"end":{"line":8,"column":86}},"8":{"start":{"line":8,"column":102},"end":{"line":8,"column":134}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":71}},"10":{"start":{"line":9,"column":39},"end":{"line":9,"column":69}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":22},"end":{"line":8,"column":23}},"loc":{"start":{"line":8,"column":42},"end":{"line":8,"column":86}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":88},"end":{"line":8,"column":89}},"loc":{"start":{"line":8,"column":102},"end":{"line":8,"column":134}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":25},"end":{"line":9,"column":26}},"loc":{"start":{"line":9,"column":39},"end":{"line":9,"column":69}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":2,"9":1,"10":0,"11":1},"f":{"0":4,"1":2,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Login.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Login.ts"],"names":[],"mappings":";;AAAA,qCAAkE;AAClE,+CAAkD;AAClD,gEAAyD;AAEzD,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAC7B,MAAM,UAAU,GAAG,IAAI,eAAe,EAAE,CAAC;AAEzC,WAAW,CAAC,IAAI,CACd,GAAG,EACH,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE,CAAC,IAAA,uBAAa,EAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,EAClF,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAClE,CAAC;AAEF,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAE1F,kBAAe,WAAW,CAAC","sourcesContent":["import { Router, Request, Response, NextFunction } from 'express';\nimport LoginController from '../controller/Login';\nimport ValidateLogin from '../middlewares/ValidateLogin';\n\nconst routerLogin = Router();\nconst controller = new LoginController();\n\nrouterLogin.post(\n  '/',\n  (req: Request, res: Response, next: NextFunction) => ValidateLogin(req, res, next),\n  (req: Request, res: Response) => controller.createLogin(req, res),\n);\n\nrouterLogin.get('/role', (req: Request, res: Response) => controller.loginRole(req, res));\n\nexport default routerLogin;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25d3cbe114ee8ec4badd88758ecc5b14076aeb9c"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Login.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Login.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":44}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}},"3":{"start":{"line":9,"column":36},"end":{"line":9,"column":44}},"4":{"start":{"line":10,"column":23},"end":{"line":10,"column":71}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":44}},"6":{"start":{"line":14,"column":22},"end":{"line":14,"column":47}},"7":{"start":{"line":15,"column":23},"end":{"line":15,"column":59}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":44}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":32},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":30},"end":{"line":17,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":1,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":2,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Login.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Login.ts"],"names":[],"mappings":";;AACA,6CAA6C;AAE7C,MAAM,eAAe;IAGnB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAY,EAAE,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAClD,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QAChE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,GAAY,EAAE,GAAa;QAChD,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;QACxC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAe,CAAC,CAAC;QAC9D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;CACF;AAED,kBAAe,eAAe,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport LoginService from '../services/Login';\n\nclass LoginController {\n  private _service: LoginService;\n\n  constructor() {\n    this._service = new LoginService();\n  }\n\n  public async createLogin(req: Request, res: Response) {\n    const { password, email } = req.body;\n    const result = await this._service.createLogin(email, password);\n    return res.status(200).json(result);\n  }\n\n  public async loginRole(req: Request, res: Response) {\n    const token = req.headers.authorization;\n    const result = await this._service.loginRole(token as string);\n    return res.status(200).json(result);\n  }\n}\n\nexport default LoginController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c73501964cf2057923ded5f16556a6ddedbcfa36"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Login.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Login.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":57}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":63}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":38}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":50}},"8":{"start":{"line":14,"column":21},"end":{"line":15,"column":42}},"9":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":80}},"11":{"start":{"line":19,"column":22},"end":{"line":19,"column":121}},"12":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":80}},"14":{"start":{"line":23,"column":27},"end":{"line":23,"column":108}},"15":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"16":{"start":{"line":27,"column":25},"end":{"line":27,"column":55}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":24}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":12,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":40},"end":{"line":25,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":27},"end":{"line":29,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},{"start":{"line":16,"column":8},"end":{"line":18,"column":9}}],"line":16},"1":{"loc":{"start":{"line":19,"column":63},"end":{"line":19,"column":120}},"type":"cond-expr","locations":[{"start":{"line":19,"column":98},"end":{"line":19,"column":104}},{"start":{"line":19,"column":107},"end":{"line":19,"column":120}}],"line":19},"2":{"loc":{"start":{"line":19,"column":63},"end":{"line":19,"column":95}},"type":"binary-expr","locations":[{"start":{"line":19,"column":63},"end":{"line":19,"column":76}},{"start":{"line":19,"column":80},"end":{"line":19,"column":95}}],"line":19},"3":{"loc":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},{"start":{"line":20,"column":8},"end":{"line":22,"column":9}}],"line":20},"4":{"loc":{"start":{"line":23,"column":48},"end":{"line":23,"column":107}},"type":"cond-expr","locations":[{"start":{"line":23,"column":83},"end":{"line":23,"column":89}},{"start":{"line":23,"column":92},"end":{"line":23,"column":107}}],"line":23},"5":{"loc":{"start":{"line":23,"column":48},"end":{"line":23,"column":80}},"type":"binary-expr","locations":[{"start":{"line":23,"column":48},"end":{"line":23,"column":61}},{"start":{"line":23,"column":65},"end":{"line":23,"column":80}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":0,"11":2,"12":2,"13":1,"14":1,"15":1,"16":0,"17":0,"18":1},"f":{"0":1,"1":2,"2":0},"b":{"0":[0,2],"1":[0,2],"2":[2,2],"3":[1,1],"4":[0,1],"5":[1,1]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Login.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Login.ts"],"names":[],"mappings":";;AAAA,uCAAmC;AAEnC,oDAA6C;AAC7C,0CAAyC;AAEzC,0DAAmD;AACnD,gEAAoD;AAEpD,MAAM,YAAY;IAIhB;QAHQ,WAAM,GAAuB,eAAK,CAAC;QAIzC,IAAI,CAAC,IAAI,GAAG,IAAI,uBAAQ,EAAE,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,KAAa,EAAE,SAAiB;QACvD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM;aAC3B,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,2BAA2B,CAAC,CAAC;SAC3D;QACD,MAAM,KAAK,GAAG,MAAM,IAAA,kBAAO,EAAC,SAAS,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAkB,CAAC,CAAC;QACjE,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,2BAA2B,CAAC,CAAC;SAC3D;QAED,MAAM,UAAU,GAAG,IAAA,eAAW,EAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAmB,CAAC,CAAC;QAC1D,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,KAAa;QAClC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,OAAO,EAAE,IAAI,EAAE,CAAC;IAClB,CAAC;CACF;AAED,kBAAe,YAAY,CAAC","sourcesContent":["import { compare } from 'bcryptjs';\nimport { ModelStatic } from 'sequelize';\nimport Users from '../database/models/Users';\nimport createToken from '../utils/Token';\nimport IUser from '../interface/IUser';\nimport GenerateError from '../utils/GenerateError';\nimport WebToken from '../middlewares/ValidateToken';\n\nclass LoginService {\n  private _model: ModelStatic<Users> = Users;\n  private _web: WebToken;\n\n  constructor() {\n    this._web = new WebToken();\n  }\n\n  public async createLogin(email: string, _password: string): Promise<{ token: string }> {\n    const user = await this._model\n      .findOne({ where: { email } });\n\n    if (!user) {\n      throw new GenerateError(401, 'Invalid email or password');\n    }\n    const teste = await compare(_password, user?.password as string);\n    if (!teste) {\n      throw new GenerateError(401, 'Invalid email or password');\n    }\n\n    const tokenLogin = createToken(user?.dataValues as IUser);\n    return { token: tokenLogin };\n  }\n\n  public async loginRole(token: string) {\n    const { role } = this._web.validateToken(token);\n    return { role };\n  }\n}\n\nexport default LoginService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4e2f9a59ba2f36b84e41d1f38d75e85d5e6baab8"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/Token.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/Token.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":37}},"3":{"start":{"line":6,"column":19},"end":{"line":9,"column":5}},"4":{"start":{"line":10,"column":18},"end":{"line":10,"column":51}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}}},"fnMap":{"0":{"name":"createToken","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":20}},"loc":{"start":{"line":5,"column":30},"end":{"line":12,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2,"6":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/Token.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/Token.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AAGpC,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AAEtC,SAAS,WAAW,CAAC,OAAc;IACjC,MAAM,MAAM,GAAoB;QAC9B,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,OAAO;KACnB,CAAC;IACF,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,MAAgB,EAAE,MAAM,CAAC,CAAC;IAC1D,OAAO,KAAK,CAAC;AACf,CAAC;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport IUser from '../interface/IUser';\n\nconst secret = process.env.JWT_SECRET;\n\nfunction createToken(payload: IUser) {\n  const config: jwt.SignOptions = {\n    expiresIn: '6d',\n    algorithm: 'HS256',\n  };\n  const token = jwt.sign(payload, secret as string, config);\n  return token;\n}\n\nexport default createToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"089725f74afcf60eb2199768c9e48e93ca7ff191"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/GenerateError.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/GenerateError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":38}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":37},"end":{"line":8,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/GenerateError.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/utils/GenerateError.ts"],"names":[],"mappings":";;AAAA,uCAAuC;AACvC,MAAqB,aAAc,SAAQ,KAAK;IAG9C,YAAY,UAAkB,EAAE,OAAe;QAC7C,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;IAChC,CAAC;CACF;AAPD,gCAOC","sourcesContent":["// essa class cria erros personalizados\nexport default class GenerateError extends Error {\n  public readonly _codeStatus: number;\n\n  constructor(statusCode: number, message: string) {\n    super(message);\n    this._codeStatus = statusCode;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c05f08e06588b7dc433751d76ef4663315f22e34"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateToken.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateToken.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":57}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":32}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":46}},"5":{"start":{"line":11,"column":8},"end":{"line":12,"column":70}},"6":{"start":{"line":12,"column":12},"end":{"line":12,"column":70}},"7":{"start":{"line":13,"column":8},"end":{"line":19,"column":9}},"8":{"start":{"line":14,"column":12},"end":{"line":14,"column":31}},"9":{"start":{"line":15,"column":12},"end":{"line":15,"column":56}},"10":{"start":{"line":18,"column":12},"end":{"line":18,"column":82}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":25},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":25},"end":{"line":20,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":8},"end":{"line":12,"column":70}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":12,"column":70}},{"start":{"line":11,"column":8},"end":{"line":12,"column":70}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"f":{"0":2,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateToken.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateToken.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AACpC,0DAAmD;AAGnD,MAAM,QAAQ;IAKZ,YAAY,OAAe;QACzB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,UAAwB,CAAC;IACtD,CAAC;IAEM,aAAa,CAAC,KAAa;QAChC,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAC;QAC5D,IAAI;YACF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAU,CAAC;SACtD;QAAC,OAAO,KAAK,EAAE;YACd,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAC;SAC7D;IACH,CAAC;CACF;AAED,kBAAe,QAAQ,CAAC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport GenerateError from '../utils/GenerateError';\nimport IUser from '../interface/IUser';\n\nclass WebToken {\n  private _secret: jwt.Secret;\n  private _payload: IUser | undefined;\n  private _auth: string | undefined;\n\n  constructor(payload?: IUser) {\n    this._payload = payload;\n    this._secret = process.env.JWT_SECRET as jwt.Secret;\n  }\n\n  public validateToken(token: string): IUser {\n    if (!token) throw new GenerateError(401, 'Token not found');\n    try {\n      this._auth = token;\n      return jwt.verify(this._auth, this._secret) as IUser;\n    } catch (error) {\n      throw new GenerateError(401, 'Token must be a valid token');\n    }\n  }\n}\n\nexport default WebToken;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc8a6a10fa9d75b6bf98922cb011299ff84004a2"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateLogin.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateLogin.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":17,"column":1}},"2":{"start":{"line":4,"column":32},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":78}},"5":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":78}},"7":{"start":{"line":11,"column":23},"end":{"line":11,"column":51}},"8":{"start":{"line":12,"column":26},"end":{"line":12,"column":48}},"9":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":78}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":11}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":22},"end":{"line":3,"column":23}},"loc":{"start":{"line":3,"column":42},"end":{"line":17,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"1":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":27}}],"line":5},"2":{"loc":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},{"start":{"line":8,"column":4},"end":{"line":10,"column":5}}],"line":8},"3":{"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},{"start":{"line":13,"column":4},"end":{"line":15,"column":5}}],"line":13}},"s":{"0":1,"1":1,"2":4,"3":4,"4":2,"5":2,"6":0,"7":2,"8":2,"9":2,"10":0,"11":2,"12":1},"f":{"0":4},"b":{"0":[2,2],"1":[4,3],"2":[0,2],"3":[0,2]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateLogin.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/ValidateLogin.ts"],"names":[],"mappings":";;AAEA,MAAM,aAAa,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACrC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;QACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IACD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IACD,MAAM,UAAU,GAAG,4BAA4B,CAAC;IAChD,MAAM,aAAa,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAE7C,IAAI,CAAC,aAAa,EAAE;QAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IACD,IAAI,EAAE,CAAC;AACT,CAAC,CAAC;AAEF,kBAAe,aAAa,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\n\nconst ValidateLogin = (req: Request, res: Response, next: NextFunction) => {\n  const { password, email } = req.body;\n  if (!email || !password) {\n    return res.status(400).json({ message: 'All fields must be filled' });\n  }\n  if (password.length < 6) {\n    return res.status(401).json({ message: 'Invalid email or password' });\n  }\n  const loginRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  const validateEmail = loginRegex.test(email);\n\n  if (!validateEmail) {\n    return res.status(401).json({ message: 'Invalid email or password' });\n  }\n  next();\n};\n\nexport default ValidateLogin;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f11756bc8b4ac2348abe19753307ea419fef84af"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/RouterError.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/RouterError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":20},"end":{"line":5,"column":64}},"2":{"start":{"line":4,"column":49},"end":{"line":5,"column":64}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":20},"end":{"line":4,"column":21}},"loc":{"start":{"line":4,"column":49},"end":{"line":5,"column":64}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":60},"end":{"line":4,"column":84}},"type":"binary-expr","locations":[{"start":{"line":4,"column":60},"end":{"line":4,"column":77}},{"start":{"line":4,"column":81},"end":{"line":4,"column":84}}],"line":4},"1":{"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":61}},"type":"binary-expr","locations":[{"start":{"line":5,"column":21},"end":{"line":5,"column":34}},{"start":{"line":5,"column":38},"end":{"line":5,"column":61}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,0]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/RouterError.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/middlewares/RouterError.ts"],"names":[],"mappings":";;AAGA,gBAAgB;AAChB,MAAM,WAAW,GAAG,CAClB,KAAqC,EACrC,IAAa,EACb,GAAa,EACb,KAAmB,EACnB,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,IAAI,GAAG,CAAC;KACtC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,uBAAuB,EAAE,CAAC,CAAC;AAE/D,kBAAe,WAAW,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport GenerateError from '../utils/GenerateError';\n\n// rota de erros\nconst RouterError = (\n  error: Error & Partial<GenerateError>,\n  _req: Request,\n  res: Response,\n  _next: NextFunction,\n) => res.status(error._codeStatus || 500)\n  .json({ message: error.message || 'Internal Server Error' });\n\nexport default RouterError;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8247df1df709f0786d76d3e81655ec91cbc60660"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Matches.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Matches.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":19},"end":{"line":6,"column":42}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":67}},"6":{"start":{"line":7,"column":37},"end":{"line":7,"column":65}},"7":{"start":{"line":8,"column":0},"end":{"line":9,"column":69}},"8":{"start":{"line":9,"column":33},"end":{"line":9,"column":67}},"9":{"start":{"line":10,"column":0},"end":{"line":11,"column":76}},"10":{"start":{"line":11,"column":40},"end":{"line":11,"column":74}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":74}},"12":{"start":{"line":12,"column":38},"end":{"line":12,"column":72}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":23},"end":{"line":7,"column":24}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":65}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":19},"end":{"line":9,"column":20}},"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":67}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":26},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":40},"end":{"line":11,"column":74}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":24},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":72}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Matches.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/routes/Matches.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,mDAAqD;AAErD,MAAM,aAAa,GAAG,IAAA,gBAAM,GAAE,CAAC;AAC/B,MAAM,UAAU,GAAG,IAAI,iBAAgB,EAAE,CAAC;AAE1C,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEtF,aAAa;KACV,KAAK,CAAC,MAAM,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEtF,aAAa;KACV,KAAK,CAAC,aAAa,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAE7F,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAE7F,kBAAe,aAAa,CAAC","sourcesContent":["import { Router, Request, Response } from 'express';\nimport MatcheController from '../controller/Matches';\n\nconst routesMatches = Router();\nconst controller = new MatcheController();\n\nroutesMatches.get('/', (req: Request, res: Response) => controller.findAll(req, res));\n\nroutesMatches\n  .patch('/:id', (req: Request, res: Response) => controller.matchesUpdate(req, res));\n\nroutesMatches\n  .patch('/:id/finish', (req: Request, res: Response) => controller.matchesFinish(req, res));\n\nroutesMatches.post('/', (req: Request, res: Response) => controller.matchesCreate(req, res));\n\nexport default routesMatches;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0d9abfdd733fb0b1daff96aecd307e6453b7dd50"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Matches.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Matches.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":48}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":48}},"3":{"start":{"line":9,"column":31},"end":{"line":9,"column":40}},"4":{"start":{"line":10,"column":22},"end":{"line":11,"column":78}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":43}},"6":{"start":{"line":15,"column":23},"end":{"line":15,"column":33}},"7":{"start":{"line":16,"column":34},"end":{"line":16,"column":45}},"8":{"start":{"line":17,"column":23},"end":{"line":17,"column":83}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":44}},"10":{"start":{"line":21,"column":23},"end":{"line":21,"column":33}},"11":{"start":{"line":22,"column":34},"end":{"line":22,"column":45}},"12":{"start":{"line":23,"column":49},"end":{"line":23,"column":57}},"13":{"start":{"line":24,"column":23},"end":{"line":25,"column":92}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":44}},"15":{"start":{"line":29,"column":24},"end":{"line":29,"column":32}},"16":{"start":{"line":30,"column":34},"end":{"line":30,"column":45}},"17":{"start":{"line":31,"column":23},"end":{"line":31,"column":80}},"18":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"19":{"start":{"line":35,"column":0},"end":{"line":35,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":28},"end":{"line":13,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":34},"end":{"line":19,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":34},"end":{"line":27,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":34},"end":{"line":33,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":22},"end":{"line":11,"column":78}},"type":"cond-expr","locations":[{"start":{"line":10,"column":35},"end":{"line":11,"column":46}},{"start":{"line":11,"column":49},"end":{"line":11,"column":78}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Matches.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/controller/Matches.ts"],"names":[],"mappings":";;AACA,iDAAgD;AAEhD,MAAM,gBAAgB;IAGpB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAa,EAAE,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa;QAC9C,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QACjC,MAAM,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,IAAI;aAClC,QAAQ,CAAC,YAAY,CAAC,UAAoB,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QAC/E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,GAAY,EAAE,GAAa;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QACtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,aAAuB,CAAC,CAAC;QACtF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,GAAY,EAAE,GAAa;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QACtC,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAClD,MAAM,MAAM,GAAG,MAAM,IAAI;aACtB,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,aAAuB,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;QAC7F,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,GAAY,EAAE,GAAa;QACpD,MAAM,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;QACzB,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QACtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,EAAE,aAAuB,CAAC,CAAC;QAEnF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport MatcheService from '../services/Matches';\n\nclass MatcheController {\n  private _service: MatcheService;\n\n  constructor() {\n    this._service = new MatcheService();\n  }\n\n  public async findAll(req: Request, res: Response) {\n    const { inProgress } = req.query;\n    const teste = inProgress ? await this\n      ._service.findProgress(inProgress as string) : await this._service.findAll();\n    return res.status(200).json(teste);\n  }\n\n  public async matchesFinish(req: Request, res: Response) {\n    const { id } = req.params;\n    const { authorization } = req.headers;\n    const result = await this._service.matchesFinish(Number(id), authorization as string);\n    return res.status(200).json(result);\n  }\n\n  public async matchesUpdate(req: Request, res: Response) {\n    const { id } = req.params;\n    const { authorization } = req.headers;\n    const { homeTeamGoals, awayTeamGoals } = req.body;\n    const result = await this\n      ._service.matchesUpdate(Number(id), authorization as string, homeTeamGoals, awayTeamGoals);\n    return res.status(200).json(result);\n  }\n\n  public async matchesCreate(req: Request, res: Response) {\n    const atribut = req.body;\n    const { authorization } = req.headers;\n    const result = await this._service.matchesCreate(atribut, authorization as string);\n\n    return res.status(201).json(result);\n  }\n}\n\nexport default MatcheController;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"938ca369535b048f8a941956ef74f3b81aeb7c49"},"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Matches.ts":{"path":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Matches.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":63}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":57}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":40}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":50}},"7":{"start":{"line":13,"column":24},"end":{"line":16,"column":10}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":23}},"9":{"start":{"line":20,"column":27},"end":{"line":20,"column":44}},"10":{"start":{"line":21,"column":23},"end":{"line":25,"column":10}},"11":{"start":{"line":26,"column":8},"end":{"line":26,"column":22}},"12":{"start":{"line":29,"column":8},"end":{"line":29,"column":39}},"13":{"start":{"line":30,"column":8},"end":{"line":30,"column":75}},"14":{"start":{"line":31,"column":8},"end":{"line":31,"column":39}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":39}},"16":{"start":{"line":35,"column":8},"end":{"line":35,"column":80}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":39}},"18":{"start":{"line":39,"column":8},"end":{"line":39,"column":39}},"19":{"start":{"line":40,"column":33},"end":{"line":40,"column":101}},"20":{"start":{"line":41,"column":33},"end":{"line":41,"column":101}},"21":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"22":{"start":{"line":43,"column":12},"end":{"line":43,"column":85}},"23":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"24":{"start":{"line":46,"column":12},"end":{"line":46,"column":112}},"25":{"start":{"line":48,"column":23},"end":{"line":48,"column":81}},"26":{"start":{"line":49,"column":8},"end":{"line":49,"column":22}},"27":{"start":{"line":52,"column":0},"end":{"line":52,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":11,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":20},"end":{"line":18,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":31},"end":{"line":27,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":35},"end":{"line":32,"column":5}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":65},"end":{"line":37,"column":5}},"line":33},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":40},"end":{"line":50,"column":5}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},{"start":{"line":42,"column":8},"end":{"line":44,"column":9}}],"line":42},"1":{"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":50}},"type":"binary-expr","locations":[{"start":{"line":42,"column":12},"end":{"line":42,"column":29}},{"start":{"line":42,"column":33},"end":{"line":42,"column":50}}],"line":42},"2":{"loc":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},{"start":{"line":45,"column":8},"end":{"line":47,"column":9}}],"line":45}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Matches.ts","sources":["/home/carol/Projetos/sd-024-b-trybe-futebol-clube/app/backend/src/services/Matches.ts"],"names":[],"mappings":";;AACA,wDAAiD;AACjD,oDAA6C;AAE7C,gEAAoD;AAEpD,0DAAmD;AAEnD,MAAM,aAAa;IAIjB;QAHQ,WAAM,GAAyB,iBAAO,CAAC;QAI7C,IAAI,CAAC,IAAI,GAAG,IAAI,uBAAQ,EAAE,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,OAAO;QAClB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACxC,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,eAAK,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE;iBACxE,EAAE,EAAE,KAAK,EAAE,eAAK,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;SACtE,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc;QAC/B,MAAM,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC;QACrC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACvC,KAAK,EAAE,EAAE,UAAU,EAAE;YACrB,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,eAAK,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE;iBACxE,EAAE,EAAE,KAAK,EAAE,eAAK,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;SACtE,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,EAAU,EAAE,KAAa;QAClD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/B,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACnE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC;IACjC,CAAC;IAEM,KAAK,CAAC,aAAa,CACxB,EAAU,EACV,KAAa,EACb,aAAqB,EACrB,aAAqB;QAErB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACxE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC;IACjC,CAAC;IAEM,KAAK,CAAC,aAAa,CAAC,OAAkB,EAAE,KAAa;QAC1D,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/B,MAAM,gBAAgB,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QACpF,MAAM,gBAAgB,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QAEpF,IAAI,CAAC,gBAAgB,IAAI,CAAC,gBAAgB,EAAE;YAC1C,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,gCAAgC,CAAC,CAAC;SAChE;QACD,IAAI,OAAO,CAAC,UAAU,KAAK,OAAO,CAAC,UAAU,EAAE;YAC7C,MAAM,IAAI,uBAAa,CAAC,GAAG,EAAE,2DAA2D,CAAC,CAAC;SAC3F;QAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,GAAG,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1E,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAED,kBAAe,aAAa,CAAC","sourcesContent":["import { ModelStatic } from 'sequelize';\nimport Matches from '../database/models/Matches';\nimport Teams from '../database/models/Teams';\nimport IMatchesServ from '../interface/IMatches.service';\nimport WebToken from '../middlewares/ValidateToken';\nimport IAtributs from '../interface/IMatches';\nimport GenerateError from '../utils/GenerateError';\n\nclass MatcheService implements IMatchesServ {\n  private _model: ModelStatic<Matches> = Matches;\n  private _web: WebToken;\n\n  constructor() {\n    this._web = new WebToken();\n  }\n\n  public async findAll() {\n    const matches = await this._model.findAll({\n      include: [{ model: Teams, as: 'homeTeam', attributes: { exclude: ['id'] },\n      }, { model: Teams, as: 'awayTeam', attributes: { exclude: ['id'] } }],\n    });\n    return matches;\n  }\n\n  async findProgress(filter: string): Promise<Matches[]> {\n    const inProgress = filter === 'true';\n    const result = await this._model.findAll({\n      where: { inProgress },\n      include: [{ model: Teams, as: 'homeTeam', attributes: { exclude: ['id'] },\n      }, { model: Teams, as: 'awayTeam', attributes: { exclude: ['id'] } }],\n    });\n    return result;\n  }\n\n  public async matchesFinish(id: number, token: string): Promise<{ message: string }> {\n    this._web.validateToken(token);\n    await this._model.update({ inProgress: false }, { where: { id } });\n    return { message: 'Finished' };\n  }\n\n  public async matchesUpdate(\n    id: number,\n    token: string,\n    homeTeamGoals: string,\n    awayTeamGoals: string,\n  ): Promise<{ message: string }> {\n    this._web.validateToken(token);\n    this._model.update({ homeTeamGoals, awayTeamGoals }, { where: { id } });\n    return { message: 'Finished' };\n  }\n\n  public async matchesCreate(atribut: IAtributs, token: string): Promise<Matches> {\n    this._web.validateToken(token);\n    const validateHomeTeam = await Teams.findOne({ where: { id: atribut.homeTeamId } });\n    const validateAwayTeam = await Teams.findOne({ where: { id: atribut.awayTeamId } });\n\n    if (!validateHomeTeam || !validateAwayTeam) {\n      throw new GenerateError(404, 'There is no team with such id!');\n    }\n    if (atribut.homeTeamId === atribut.awayTeamId) {\n      throw new GenerateError(422, 'It is not possible to create a match with two equal teams');\n    }\n\n    const result = await this._model.create({ ...atribut, inProgress: true });\n    return result;\n  }\n}\n\nexport default MatcheService;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9ba3ac940f0c08af4710c4bf89ba70dc0bff736a"}}